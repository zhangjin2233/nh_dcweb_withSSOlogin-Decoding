webpackJsonp([7],{VmZW:function(e,t){},maqa:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n("bOdI"),s=n.n(i),c=n("woOf"),o=n.n(c),a={mixins:[{name:"tree",data:function(){return{contextmenu:null,checkedNodes:[],tree:null}},props:["object","propData"],created:function(){var e=this;this.propData?this.tree=this.propData.object:this.tree=this.object,this.tree.vue=this,this.tree.refresh=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.initData(e.tree.url,o()(e.tree.params,t))},this.tree.url&&this.initData(this.tree.url,this.tree.params),this.$nextTick(function(){if(e.tree.hasCheckbox&&e.tree.selection&&e.tree.selection.length>0){var t=e.tree.selection;e.$refs.tree.setCheckedKeys(t)}})},methods:(r={initData:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.$reqGet(e,n).then(function(e){if(e){var n=e.CONTENT.treeList;if(t.tree.setNodeIcon(n),t.tree.data=n,t.tree.hasCheckbox&&!t.select&&e.CONTENT[t.tree.selectKey]){var r=e.CONTENT[t.tree.selectKey];t.tree.selection=r,t.$refs.tree.setCheckedKeys(r)}t.tree.initData&&t.tree.initData(t.tree.data)}})},nodeClick:function(e,t){this.tree.selectNodes=[],this.tree.nodeClick&&this.tree.nodeClick(this.tree,e,t)},nodeContextmenu:function(e,t,n){this.tree.selectNodes=[],this.tree.currentNode=n,this.tree.nodeContextmenu&&this.tree.nodeContextmenu(e,t,n)},checkChange:function(e,t){this.tree.checkChange&&this.tree.checkChange(this,e,t)},loadNode:function(e,t){var n=this.tree.loadType.map(function(e){return e.toLowerCase()}),r=e.data.type&&e.data.type.toLowerCase();n.includes(r)?this.tree.loadNode&&this.tree.loadNode(e,t,this):e.data&&e.data.children&&t(e.data.children)}},s()(r,"checkChange",function(e,t){var n=this.tree.selectType;this.tree.singleSelect?t?0===n.length||-1!==n.indexOf(e.type)?this.tree.selection=[e[this.tree.key]]:this.tree.selection=[]:0===this.$refs.tree.getCheckedKeys().length&&(this.tree.selection=[]):this.checkedNodes=this.$refs.tree.getCheckedNodes(this.tree.selectLeafOnly)}),s()(r,"nodeExpand",function(e){var t=this.tree;!t.defaultExpandedKeys.includes(e[t.key])&&t.defaultExpandedKeys.push(e[t.key]),t.contextmenu&&t.contextmenu.hideMenu()}),s()(r,"nodeCollapse",function(e,t){var n=this.tree;!function e(t){var r=n.defaultExpandedKeys.indexOf(t.data[n.key]);-1!==r&&n.defaultExpandedKeys.splice(r,1),t.childNodes.length>0&&t.childNodes.forEach(function(t){e(t)})}(t),n.getNode&&(n.defaultExpandedKeys=n.defaultExpandedKeys.filter(function(e){return n.getNode(e)})),this.tree.contextmenu&&this.tree.contextmenu.hideMenu()}),r),computed:{selection:function(){return this.object?this.object.selection:this.propData.object.selection}},watch:{checkedNodes:{deep:!0,handler:function(e,t){var n=this;if(!this.tree.singleSelect){var r=e.filter(function(e){return 0===n.tree.selectType.length||-1!==n.tree.selectType.indexOf(e.type)});this.tree.selection=[],r.forEach(function(e){n.tree.selection.push(e[n.tree.key])})}}},selection:function(e){var t=this;this.$refs.tree.setCheckedKeys(e),this.$nextTick(function(){var e=t.$refs.tree.getCheckedNodes();t.tree.nodeSelection=e.filter(function(e){return 0===t.tree.selectType.length||-1!==t.tree.selectType.indexOf(e.type)})})}}}]},d={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tree",style:"height: "+(e.tree.height?e.tree.height+";overflow: auto;":"auto")},[n("el-tree",{ref:"tree",style:"font-size: "+e.tree.fontSize+"px",attrs:{data:e.tree.data,"show-checkbox":e.tree.hasCheckbox,"node-key":e.tree.key,"empty-text":e.tree.emptyText,indent:e.tree.indent,"expand-on-click-node":e.tree.clickNodeExpand,"default-expand-all":e.tree.expandAll,"default-expanded-keys":e.tree.defaultExpandedKeys,"highlight-current":e.tree.highlightCurrent,"check-strictly":e.tree.checkStrictly||e.tree.singleSelect,accordion:e.tree.accordion,lazy:e.tree.lazy,load:e.loadNode,props:e.tree.props},on:{"node-click":e.nodeClick,"node-contextmenu":e.nodeContextmenu,"check-change":e.checkChange,"node-expand":e.nodeExpand,"node-collapse":e.nodeCollapse},scopedSlots:e._u([{key:"default",fn:function(t){t.node;var r=t.data;return n("span",{staticClass:"custom-tree-node",class:{"node-selected":e.tree.selectNodes.includes(r[e.tree.key])}},[r.icon?n("i",{class:r.icon}):e._e(),e._v(" "),r.img?n("i",{staticClass:"node-icon",style:"background-image: url("+r.img+")"}):e._e(),e._v(" "),n("span",[e._v(e._s(r.label))])])}}])}),e._v(" "),e.tree.contextmenu.show&&e.tree.hasContextmenu?n("dc-contextmenu",{attrs:{object:e.tree.contextmenu,data:e.tree}}):e._e()],1)},staticRenderFns:[]};var h=n("VU/8")(a,d,!1,function(e){n("VmZW")},"data-v-a7d14c3c",null);t.default=h.exports}});